<ng-template #userTemplate>
  <div class="modal-header">
    <h4 class="modal-title pull-left">{{userModalTitle}}</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
      <form class="form-horizontal" role="form">
          <fieldset>
              <div class="form-group">
              <label for="grade" class="col-lg-2 control-label">First Name</label>
              <div class="col-lg-10">
                  <input type="name" class="form-control" name="firstname" [(ngModel)]="user.firstname" placeholder="First Name"> 
              </div>
              </div>
              <div class="form-group">
              <label for="des" class="col-lg-2 control-label">Last Name</label>
              <div class="col-lg-10">
                  <input type="name" class="form-control" name="lastname" [(ngModel)]="user.lastname" placeholder="Last Name" > 
              </div>
              </div>
              <div class="form-group">
              <label for="type" class="col-lg-2 control-label">User Name</label>
              <div class="col-lg-10">
                  <input type="name" class="form-control"name="username" [(ngModel)]="user.username" placeholder="User Name" > 
              </div>
              </div>
              <div class="form-group">
              <label for="type" class="col-lg-2 control-label">Email</label>
              <div class="col-lg-10">
                  <input type="name" class="form-control"name="email" [(ngModel)]="user.email" placeholder="Email" > 
              </div>
              </div>
              <div class="form-group">
                <label for="type" class="col-lg-2 control-label">User Status</label>
                <div class="col-lg-1">
                <label for="type" class=" control-label">
                    <input type="radio" class="" name="is_admin" [(ngModel)]="user.is_admin" [value]="true">  Admin
                </label>
                </div>
                <div class="col-lg-1">
                <label for="type" class=" control-label">
                    <input type="radio" class="" name="is_admin" [(ngModel)]="user.is_admin"  [value]="false">  User
                </label>
                </div>
              </div>
              <div class="form-group" *ngIf="!isEditUser">
                <label for="type" class="col-lg-2 control-label">Password</label>
                <div class="col-lg-10">
                  <input type="name" class="form-control"name="password" [(ngModel)]="user.password" placeholder="Password" > 
                </div>
              </div>
              <div class="form-group">
              <div class="col-lg-10 col-lg-offset-2 text-right">
                  <button type="button" class="btn btn-default" aria-label="Close" (click)="modalRef.hide()">Cancel</button>
                  <button type="button"  class="btn btn-primary" (click)='onUserSubmit()'>{{userModalBtn}}</button>
              </div>
              </div>
          </fieldset>
      </form>        
  </div>
</ng-template>
<div class="row">
<div class="col-sm-12">
  <div class="page-header">
      <h3>Users [{{users?.length}}]
          <button  class="btn btn-success pull-right" (click)="userModal(null, false, userTemplate)">Create New User</button>
      </h3>
  </div>
  <div class="col-sm-12">
      <div class="show-hide-messages">
          <div [ngClass]="messageClass">
              {{ message }}
          </div>
      </div>
      <table class="table table-striped table-hover ">
          <thead>
              <tr>
              <th>#</th>
              <th> First Name</th>
              <th> Last Name</th>
              <th> User Name</th>
              <th> Email</th>
              <th> Admin</th>
              <th> Action</th>
              </tr>
          </thead>
          <tbody>
              <tr *ngFor="let user of users; index as i">
                  <td>{{i+1}}</td>
                  <td>{{user.firstname}}</td>
                  <td>{{user.lastname}}</td>
                  <td>{{user.username}}</td>
                  <td>{{user.email}}</td>
                  <td>{{user.is_admin}}</td>
                  <td>
                    <a href="javascript:void(0)" (click)="userModal(i, true, userTemplate)"> 
                      <span class="glyphicon glyphicon-pencil"></span> 
                    </a>
                    &nbsp;&nbsp;
                    <a href="javascript:void(0)" (click)="deleteUser(i)" class="danger">
                      <span class="glyphicon glyphicon-trash"></span>
                    </a> 
                  </td>
              </tr>
          </tbody>
      </table>
  </div>
</div>
</div>